# 电机及电机选型

你知道吗？你可能没有想过，制作两轮自平衡小车要用什么样的电机？又或者，你看到别人都在用GA25、GB37直流减速电机，那么直接抄着用就好，索性连思考都节省了。

殊不知，根据自己的制作需求来选择对应的电机其实很简单。

我以“小霸王Lite”两轮自平衡小车为例进行说明。

### 应用场合：制作入门级两轮自平衡小车

假设维持两轮自平衡小车直立、运行的动力都来自于两个轮子。轮子的转动则是由电机带动的。在我的期望中，两轮自平衡小车要并且必须实现**直立平衡、前进后退、原地旋转**三大基础功能。两轮自平衡小车的本质是用电机的扭矩抵消小车倾斜时的重力分量，这要求电机的扭矩要足够大。如果想让两轮自平衡小车在前进后退运动时速度快些，可以选择转速快的电机，反之则选择转速慢的电机，但是通常转速快的电机扭矩也小，需要平衡两者需求选择电机。要实现原地平衡、原地旋转功能，则需要电机的定位精度要足够高，例如1mm的控制精度。综上所述，就制作两轮自平衡小车而言，电机必须在三个方面满足要求：

1. 扭矩
2. 转速
3. 定位精度（借助编码器）

电机通常借助编码器来实现定位，比如必须能达到1mm的定位精度，还要有非常长的使用寿命。

## 估算负载参数

我们的设计目标是一款小巧的轻量级的两轮自平衡小车，要求这款两轮自平衡小车在电量充足时能一直保持直立平衡状态。

于是，可以根据设计目标进行倒推，预先估算小车的部分关键参数：

+ 负载质量 m=0.4kg
+ 最大速度 v=0.2m/s
+ 定位精度 1mm
+ 总效率 η≈0.9
+ 原地平衡状态时位移 p=1mm
+ 电池电压 u=7.4v
+ 最大电流 i=3a

## 功率近似估计

在功率分析时，注意到重力F<sub>G</sub>总是存在的，重力为

F<sub>G</sub>=m\*g=0.4\*9.81≈3.93N

与重力相比，加速度惯性力可以忽略，毕竟小车在原地平衡时，加速度惯性力只在短时间内出现。因此在估计所需的转矩时只考虑不变的作用力，则所需转矩为:

M<sub>G</sub>=F<sub>G</sub>*p/2π/η≈62mN.m≈0.7kgf.cm

M<sub>左电机</sub>=M<sub>右电机</sub>≈M<sub>G</sub>/2≈0.35kgf.cm

评估：

这就意味着驱动系统必须能连续输出大约0.78kgf.cm的转矩，还要有加速过程中的转矩余量储备。又因为两轮自平衡小车有两个电机，均摊开来，每个电机只需提供约0.39kgf.cm的扭矩。

采用一个带有标准编码器（例如，500线分辨率）的电机可以容易地实现1mm定位精度。减速箱的背隙大小估计为2°，不会对所要求的精度产生严重影响。

## 电机选型

经过上面的近似估计，我们能知道自己要找的是什么参数的电机——一款扭矩至少要有0.35kgf.cm、工作电压6~9v、最大电流3a以内、速度至少0.2m/s、带有起码500线编码器的直流减速电机。

市面上的电机，要么价格过于昂贵，要么无法完全满足上述的性能要求。迫于找不到合适电机的无奈，小霸王Lite项目最终只能选择自主设计、改进一款合适的电机——TTM1直流减速电机。

TTM1直流减速电机的参数如下：

> + 额定电压6v
> + 最大电流2a
> + 最大转速196rpm（在6v电压时）
> + 额定扭矩0.5kgf.cm
> + 带有单相线数为1920线的AB相编码器
> + 带有电磁干扰（EMI）滤波器

TTM1直流减速电机的减速箱材质为塑料（ABS），在牢固可靠的前提下，制造成本大大降低，价格只是其它同参数电机的一半，而且带有高精度编码器，足够满足我们的定位精度，堪称经济实惠、性价比之最，符合小霸王Lite项目中“物美价廉”的设计理念。

---
> [^1]: 摘自维基百科https://zh.wikipedia.org/wiki/%E7%94%B5%E6%9C%BA





### 整体的思考

在进行电机选型前，针对两轮自平衡小车，我们要尽可能多地考虑一些问题。

比如：

> + 规定的运动是单方向运动还是来回运动？将采用什么样的驱动来实现期望的运动？是否直接驱动？
> + 将要调节哪些变量（电流、速度、位置）？精度要求如何？控制变量如何测量？开环控制系统是否足够满足要求？
> + 在所有的工作条件下是否有足够的电功率来驱动负载？最大可用的电流和电压是多少？
> + 尺寸大小有无限制？规定的使用寿命是什么？成本是否在可以承受范围？

成本也是一个重要的需要考虑的关键事项。如何才能设计得尽可能的经济，并且还能满足性能和使用寿命的要求。

充分考虑上述问题，对我们后续选择电机驱动电路、控制算法等都有帮助。
