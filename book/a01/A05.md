---
typora-root-url: ./
---

# 串口下载

小霸王Lite两轮自平衡小车的底板已经把STM32的USART1（串口1）接口预留出来，丝印标注为**“串口下载调试接口”**。所以，我们同样可以很方便地利用串口进行下载调试。

>进行串口下载的前提，需要我们手上准备一个串口模块，其中USB-TLL芯片不限制。如果没有串口模块，请购买一个，在购买的同时，请大家咨询店家获取串口模块的驱动，并且进行安装。

进行串口下载，按以下几个步骤进行即可。

插上自带的串口模块，并且将串口线连接好（注意交叉接线，比如串口模块的RxD对接底板的TxD）。

![](/img/串口下载.jpg "")

将核心板上的BOOT0跳帽跳到VCC端（丝印标注为B0+）。

我们使用的串口下载工具是mcuisp.exe。这是一个绿色软件，可从网上自由下载，或**`小霸王Lite光盘目录下：3-安装软件\3-串口下载软件`**中找到。双击mcuisp.exe，打开mcuisp界面， mcuisp是比较智能的，只要串口模块插上了电脑，它就会自动搜索可以使用串口端号。因为我在这里演示用的是笔记本的USB端口，插上串口模块后被识别为“串口3”。假如你要修改串口号数，可以到**`我的电脑-管理-设备管理器-端口`**中查找，然后再修改。

![](/img/002mcuisp截图界面2.png "")

在mcuisp界面bps选项中设置波特率为115200，选择要下载的程序——在小霸王Lite自带的例程中为Output文件夹的可执行文件(hex文件)。

然后点击`开始编程`按钮，开始下载。如果下载成功，则会打印出下面框中的信息。

![](/img/002mcuisp截图界面.png "")

程序下载成功了，可是在小霸王Lite上看不到程序运行的实验现象呀，是不是哪里出了问题呢？

我们是通过串口下载，是将我们的程序烧写到STM32的Flash中去了，而我们想要从Flash里面执行我们的程序的话，则需要将核心板上BOOT0跳帽重新跳到GND端（标注为B0-），再手动复位——按一下复位按键就能看到实验现象了。

在我们点击“开始编程”按钮时，还可能会出现mcuisp一直处于连接的状态，导致程序下载不了，如下截图所示。解决的方法也很简单：只需按一下核心板板上的复位按键。

![](/img/002mcuisp截图界面3.png "")
