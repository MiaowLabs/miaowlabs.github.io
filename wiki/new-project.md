---
layout: wiki
title: Windows下开发环境搭建-裸机版本
---

# {{ page.title }}

> 作者：Songyimiao

##获取IAP15头文件

这些芯片厂发布的文件，当然要通过官网途径获取啦。

有两个简便的方法：

一个方法是，打开STC-ISP下载工具，在右边选项卡里选择“Keil仿真设置”，点击“添加型号和头文件到Keil中”，可以把STC现有大部分芯片的头文件包含进去。

![](/img/wiki/keil-version.png)

第一种方法

另一个方法是，打开STC-ISP下载工具，在右边选项卡里选择“头文件”，在“单片机系列”中选择要用到的芯片型号，我们在这里选“STC15W4Kxx/IAP15W4K61S4/IRC15W4K63S4 Series”，就可以看到对应的头文件，再复制代码或者保存文件，放进工程。

![](/img/wiki/keil-version.png)

第二种方法

##开始新建工程

1. 第一步，点击桌面Keil C51图标，启动软件。如果是第一次使用的话会打开一个自带的工程文件，我们可以通过工具栏 Project->Close-Project选项把它关掉。
2. 在工具栏 Project->New μVision Project新建我们的工程文件。
3. 我们将新建的工程文件保存在一个文件夹里面。首先我们建一个名为工程模板的文件夹，再在工程模板里面建几个文件夹（如下图所示）： Appcode、BSP、Common、Driver、Listing、Output 、Startup。
4. 直接将工程保存在上一步骤建立的工程模板文件夹，其中工程名字我在这里取为MWbalanced，大家
可以根据自己的爱好取名字，不必跟我一样。
5. （这一步的前提是已经获取了STC15的文件噢）接下来的窗口是让我们选择CPU数据库，选择STC MCU Database。接着，要我们选择公司跟芯片的型号，我们用的芯片是STC公司的IAP15W4K61S4，属于STC15W4K32S4系列芯片，按如下选择即可。
6. 接下来的窗口问我们是否需要拷贝8051的启动代码到工程文件中，这份启动代码在8051系列中都是适用的，一般情况下我们都点击是。
7. 此时我们的工程新建成功，如下图所示。但我们的工程中还没有任何文件，接下来我们需要在我们的工程中添加所需文件。
8. 在工程模板文件夹下，我们在刚开始建的文件夹下添加我们所需要的文件。